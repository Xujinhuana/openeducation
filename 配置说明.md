# ğŸ“ AstrOb é…ç½®è¯´æ˜

## ğŸ¯ å½“å‰é…ç½®ï¼ˆç®€åŒ–ç‰ˆï¼‰

### ç»Ÿä¸€ base è·¯å¾„
æœ¬åœ°å¼€å‘å’Œ GitHub Pages ç°åœ¨ä½¿ç”¨**ç›¸åŒçš„ base è·¯å¾„**ï¼š`/openeducation/`

âœ… **ä¼˜ç‚¹**ï¼š
- ç®€å•ï¼šæ— éœ€ç¯å¢ƒæ£€æµ‹
- ä¸€è‡´ï¼šæœ¬åœ°å’Œç”Ÿäº§ç¯å¢ƒè¡Œä¸ºå®Œå…¨ç›¸åŒ
- æ˜“ç»´æŠ¤ï¼šå‡å°‘é…ç½®å¤æ‚åº¦

---

## ğŸš€ å¿«é€Ÿå¯åŠ¨

### æœ¬åœ°å¼€å‘
```bash
# æ–¹æ³• 1ï¼šåŒå‡»è¿è¡Œï¼ˆæ¨èï¼‰
dev-local.bat

# æ–¹æ³• 2ï¼šå‘½ä»¤è¡Œ
cd /d F:\IOTO-Doc\AstrOb
set PWD=%CD%
set SPACESHIP_AUTHOR=My Vault
npm run dev
```

**è®¿é—®åœ°å€**ï¼š`http://localhost:4321/openeducation/`

---

### GitHub Pages éƒ¨ç½²
```bash
git add .
git commit -m "Update content"
git push origin main
```

**è®¿é—®åœ°å€**ï¼š`https://your-username.github.io/openeducation/`

---

## âš™ï¸ é…ç½®æ–‡ä»¶è¯´æ˜

### astro.config.tsï¼ˆå·²ç®€åŒ–ï¼‰
```typescript
export default defineConfig({
  site: process.env.SPACESHIP_SITE || 'http://localhost:4321',
  base: process.env.SPACESHIP_BASE || '/openeducation/'
});
```

**é€»è¾‘**ï¼š
- é»˜è®¤ä½¿ç”¨ `/openeducation/` ä½œä¸º base
- å¯é€šè¿‡ç¯å¢ƒå˜é‡è¦†ç›–ï¼ˆç”¨äº Vercel ç­‰å…¶ä»–å¹³å°ï¼‰

---

### website.config.json
```json
{
  "title": "é¦–é¡µ",
  "description": "Ship your Second Brain into the Cyber-Space",
  "author": "My Vault",
  "defaultLocale": "en"
}
```

**æ³¨æ„**ï¼šä¸è¦åœ¨è¿™é‡Œè®¾ç½® `base`ï¼Œç”± `astro.config.ts` ç»Ÿä¸€ç®¡ç†ã€‚

---

### dev-local.batï¼ˆæœ¬åœ°å¼€å‘è„šæœ¬ï¼‰
```batch
set PWD=%CD%
set SPACESHIP_AUTHOR=My Vault
npm run dev
```

**ä½œç”¨**ï¼šè®¾ç½®å¿…éœ€çš„ç¯å¢ƒå˜é‡å¹¶å¯åŠ¨å¼€å‘æœåŠ¡å™¨ã€‚

---

## ğŸ”§ ç¯å¢ƒå˜é‡

### å¿…éœ€å˜é‡

| å˜é‡ | å€¼ | è¯´æ˜ |
|------|------|------|
| `PWD` | é¡¹ç›®è·¯å¾„ | Windows ä¸‹ varlock å¿…éœ€ |
| `SPACESHIP_AUTHOR` | `My Vault` | ä½œè€…ä¿¡æ¯ |

### å¯é€‰å˜é‡ï¼ˆè¦†ç›–é»˜è®¤å€¼ï¼‰

| å˜é‡ | é»˜è®¤å€¼ | è¯´æ˜ |
|------|---------|------|
| `SPACESHIP_BASE` | `/openeducation/` | base è·¯å¾„ |
| `SPACESHIP_SITE` | `http://localhost:4321` | ç½‘ç«™åœ°å€ |

---

## ğŸŒ ä¸åŒå¹³å°éƒ¨ç½²

### GitHub Pages
ä½¿ç”¨é»˜è®¤é…ç½®å³å¯ï¼Œæ— éœ€é¢å¤–è®¾ç½®ã€‚

**workflow é…ç½®**ï¼š
```yaml
env:
  SPACESHIP_AUTHOR: My Vault
  # base ä½¿ç”¨é»˜è®¤å€¼ /openeducation/
```

---

### Vercel
éœ€è¦è‡ªå®šä¹‰ base ä¸ºæ ¹è·¯å¾„ã€‚

**vercel.json**ï¼š
```json
{
  "env": {
    "SPACESHIP_BASE": "/",
    "SPACESHIP_AUTHOR": "My Vault"
  }
}
```

æˆ–åœ¨ Vercel Dashboard è®¾ç½®ç¯å¢ƒå˜é‡ã€‚

---

## ğŸ“‹ æ ¸å¿ƒæ–‡ä»¶æ¸…å•

| æ–‡ä»¶ | ä½œç”¨ | çŠ¶æ€ |
|------|------|------|
| `astro.config.ts` | Astro ä¸»é…ç½® | âœ… å·²ç®€åŒ– |
| `website.config.json` | ç½‘ç«™åŸºç¡€ä¿¡æ¯ | âœ… é…ç½®å®Œæˆ |
| `dev-local.bat` | æœ¬åœ°å¼€å‘å¯åŠ¨ | âœ… é…ç½®å®Œæˆ |
| `vercel.json` | Vercel éƒ¨ç½²é…ç½® | âœ… é…ç½®å®Œæˆ |
| `node_modules/.../get-static-paths.ts` | Windows è·¯å¾„ä¿®å¤ | âš ï¸ éœ€æ‰‹åŠ¨ç»´æŠ¤ |

---

## âš ï¸ æ³¨æ„äº‹é¡¹

### 1. Windows è·¯å¾„ä¿®å¤ä¼šåœ¨é‡è£…ä¾èµ–åä¸¢å¤±
**å½±å“**ï¼šè¿è¡Œ `npm install` åéœ€è¦é‡æ–°ä¿®æ”¹ã€‚

**è§£å†³**ï¼šæ¯æ¬¡é‡è£…åæ‰‹åŠ¨ä¿®æ”¹ä»¥ä¸‹æ–‡ä»¶ï¼š
```
node_modules/astro-spaceship/components/Article/utils/get-static-paths.ts
```

ç¬¬ 4 è¡Œæ”¹ä¸ºï¼š
```typescript
import { join } from "node:path/posix";
```

ç¬¬ 132-134 è¡Œæ”¹ä¸ºï¼š
```typescript
const authors = (await getCollection(authorsCollection as any)) as Author[];
const documents = (await getCollection(documentsCollection as any)) as Document[];
const tags = (await getCollection(tagsCollection as any)) as Tag[];
```

---

### 2. ç«¯å£å†²çª
å¦‚æœæ˜¾ç¤º `Port 4321 is in use`ï¼Œä¼šè‡ªåŠ¨ä½¿ç”¨ 4322 æˆ–å…¶ä»–ç«¯å£ã€‚

**è®¿é—®**ï¼šæŸ¥çœ‹ç»ˆç«¯è¾“å‡ºçš„å®é™…ç«¯å£å·ã€‚

---

### 3. ç¼“å­˜é—®é¢˜
é‡åˆ°å¥‡æ€ªé—®é¢˜æ—¶ï¼Œæ¸…ç†ç¼“å­˜ï¼š
```bash
rmdir /s /q .astro
rmdir /s /q node_modules\.cache
```

---

## ğŸ¯ æ€»ç»“

### å½“å‰é…ç½®ç­–ç•¥
- **æœ¬åœ°å’Œ GitHub Pages**ï¼šç»Ÿä¸€ä½¿ç”¨ `/openeducation/`
- **Vercel**ï¼šä½¿ç”¨ `/`ï¼ˆé€šè¿‡ç¯å¢ƒå˜é‡è¦†ç›–ï¼‰
- **ç®€å•æ˜äº†**ï¼šå‡å°‘äº†ç¯å¢ƒæ£€æµ‹é€»è¾‘

### è®¿é—®åœ°å€
- **æœ¬åœ°**ï¼š`http://localhost:4321/openeducation/`
- **GitHub**ï¼š`https://username.github.io/openeducation/`
- **Vercel**ï¼š`https://project.vercel.app/`

---

**æœ€åæ›´æ–°**ï¼š2025-10-21  
**é…ç½®çŠ¶æ€**ï¼šâœ… å·²å®Œæˆå¹¶ç®€åŒ–

