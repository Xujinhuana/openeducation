# 🌌 AstrOb (Spaceship) 中文配置指南

> 将 Obsidian 笔记库转换为静态网站



## 📁 项目结构

```
src/
├── assets/              # 静态资源（logo、背景图等）
├── content/vault/       # 放置 Obsidian 笔记文件
├── pages/               # 页面路由
│   ├── index.astro      # 首页
│   └── [...slug].astro  # 笔记页面
├── styles/
│   ├── global.css       # 全局样式
│   └── landing.css      # 首页样式
└── content.config.ts    # 内容配置
```

---

## ⚙️ 网站配置

在项目根目录创建 `website.config.mjs`：

```javascript
export default {
  title: "我的知识库",
  description: "个人笔记分享",
  author: "Your Name",
  domain: "https://mysite.com"
};
```

---

## 🎨 配色修改

编辑 `src/styles/global.css`，添加 CSS 变量：

```css
@import "spaceship-monolith/theme";

:root {
  --color-primary: #6366f1;      /* 主色 */
  --color-secondary: #ec4899;    /* 副色 */
  --color-accent: #f59e0b;       /* 强调色 */
  --color-text: #1f2937;         /* 文字色 */
  --color-bg: #ffffff;           /* 背景色 */
}
```

### 配色方案预设

**深蓝优雅：** `#1e3a8a` `#0ea5e9` `#06b6d4`  
**紫粉渐变：** `#7c3aed` `#ec4899` `#f43f5e`  
**自然绿茶：** `#059669` `#10b981` `#34d399`  
**暖橙木质：** `#b45309` `#d97706` `#f59e0b`

---

## 🎭 布局修改

编辑 `src/pages/index.astro` 修改首页结构，编辑 `src/styles/landing.css` 修改首页样式。

更改背景图片（在 `landing.css` 中）：

```css
:root {
  --assets-stars: url('../assets/my-stars.png');
  --assets-clouds: url('../assets/my-clouds.png');
}
```

---

## 📝 添加笔记

在 `src/content/vault/` 创建 `.md` 文件：

```markdown
---
title: "笔记标题"
description: "简短描述"
date: 2024-10-19
tags: [标签1, 标签2]
publish: true
---

## 内容

您的笔记内容...
```

### 笔记元数据

| 字段 | 说明 |
|------|------|
| `title` | 笔记标题 |
| `description` | 摘要描述 |
| `date` | 创建日期 |
| `tags` | 标签数组 |
| `publish` | true/false - 是否发布 |
| `featured` | true/false - 是否首页展示 |

---

## 🎯 常用修改速查

| 需求 | 修改位置 |
|------|---------|
| 网站标题/作者 | `website.config.mjs` |
| 主题颜色 | `src/styles/global.css` |
| 背景图片 | `src/styles/landing.css` + `src/assets/` |
| Logo | 替换 `src/assets/logo.png` |
| 首页布局 | `src/pages/index.astro` |
| 首页样式 | `src/styles/landing.css` |
| 添加笔记 | 创建 `src/content/vault/*.md` |
| 笔记不显示 | 检查 `publish: true` |

---

## 📸 图床配置（推荐）

为了优化博客图片加载速度和减小 Git 仓库体积，推荐使用图床方案。

### 推荐方案：七牛云 + PicGo

**优势**：
- ✅ **国内访问速度最快**（50-150ms）
- ✅ **免费额度高**（10GB 存储 + 10GB CDN 流量/月）
- ✅ **强大的图片处理**（缩略图、压缩、水印、格式转换）
- ✅ **稳定可靠**（大厂服务，99.9% 可用性）
- ✅ **无需信用卡**（只需实名认证）

### 快速开始

详细配置请参考：**[图床配置指南-七牛云.md](./图床配置指南-七牛云.md)**

**配置流程**：
1. 注册七牛云并实名认证（1-2 小时）
2. 创建存储空间（5 分钟）
3. 安装 PicGo 并配置（10 分钟）
4. 安装 Obsidian 插件（可选，5 分钟）
5. 开始使用（截图 → 粘贴 → 自动上传）

**配置时间**：约 2 小时（含实名认证审核）

---

## 💬 动态功能集成（可选）

想为博客添加评论、点赞、阅读统计等动态功能？

### 推荐方案：Supabase

**优势**：
- ✅ 完全免费（初期）
- ✅ 评论系统
- ✅ 阅读统计
- ✅ 点赞功能
- ✅ 保留 Markdown 内容管理

### 混合架构

详细实施请参考：**[Supabase集成指南.md](./Supabase集成指南.md)**

**实现功能**：
1. 阅读统计（2 小时）
2. 评论系统（3 小时）
3. 点赞功能（1 小时）

⚠️ **注意**：需要将 Astro 配置为 SSR 模式（`output: 'server'`）

---

## ⚠️ 常见问题

### PWD is not set 错误

```bash
# Windows CMD
set PWD=%CD% & npm run dev

npm run dev

# Windows PowerShell
$env:PWD = (Get-Location).Path
npm run dev
```

### 笔记不显示

- ✅ 文件在 `src/content/vault/` 文件夹
- ✅ Frontmatter 中 `publish: true`
- ✅ 重新启动 `npm run dev`

### 样式不生效

```bash
rmdir /s .astro    # 清空缓存
npm run dev        # 重启
```

---

