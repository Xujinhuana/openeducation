# ğŸš€ éƒ¨ç½²è¯´æ˜

## âš ï¸ é‡è¦æç¤º

ç”±äºé¡¹ç›®ä½¿ç”¨äº† Supabase åŠ¨æ€åŠŸèƒ½ï¼ˆAPI è·¯ç”±ï¼‰ï¼Œç°åœ¨æœ‰**ä¸¤ç§éƒ¨ç½²æ–¹å¼**ï¼š

---

## ğŸŒŸ æ–¹æ¡ˆ Aï¼šVercel éƒ¨ç½²ï¼ˆæ¨èï¼‰â­â­â­â­â­

### ä¸ºä»€ä¹ˆæ¨è Vercelï¼Ÿ

- âœ… **æ”¯æŒ SSR**ï¼šå®Œæ•´æ”¯æŒ API è·¯ç”±å’ŒåŠ¨æ€åŠŸèƒ½
- âœ… **Supabase åŠŸèƒ½å®Œæ•´**ï¼šæµè§ˆç»Ÿè®¡ã€ç‚¹èµã€è¯„è®ºç­‰åŠŸèƒ½æ­£å¸¸å·¥ä½œ
- âœ… **è‡ªåŠ¨éƒ¨ç½²**ï¼šPush åˆ° GitHub è‡ªåŠ¨æ„å»ºéƒ¨ç½²
- âœ… **å…è´¹é¢åº¦**ï¼šä¸ªäººé¡¹ç›®å…è´¹
- âœ… **é€Ÿåº¦å¿«**ï¼šå…¨çƒ CDN

### é…ç½®æ­¥éª¤

#### 1. è¿æ¥ Vercel

è®¿é—® [Vercel](https://vercel.com)ï¼Œå¯¼å…¥ä½ çš„ GitHub ä»“åº“ã€‚

#### 2. é…ç½®ç¯å¢ƒå˜é‡

åœ¨ Vercel Dashboard â†’ Settings â†’ Environment Variables æ·»åŠ ï¼š

```
PUBLIC_SUPABASE_URL=https://your-project-id.supabase.co
PUBLIC_SUPABASE_ANON_KEY=your-anon-key
```

#### 3. é…ç½®æ„å»ºå‘½ä»¤ï¼ˆå¯é€‰ï¼‰

Vercel ä¼šè‡ªåŠ¨æ£€æµ‹ï¼Œæ— éœ€é¢å¤–é…ç½®ã€‚é»˜è®¤ä½¿ç”¨ï¼š
```
æ„å»ºå‘½ä»¤ï¼šnpm run build:github
è¾“å‡ºç›®å½•ï¼š.vercel/output
```

#### 4. éƒ¨ç½²

```bash
git add .
git commit -m "feat: é…ç½® Vercel éƒ¨ç½²"
git push origin main
```

Vercel ä¼šè‡ªåŠ¨æ„å»ºå’Œéƒ¨ç½²ã€‚

### å½“å‰é…ç½®

- âœ… `@astrojs/vercel` adapter å·²å®‰è£…
- âœ… `astro.config.ts` å·²é…ç½® Vercel adapter
- âœ… `vercel.json` å·²æ›´æ–°è¾“å‡ºç›®å½•
- âœ… ç¯å¢ƒå˜é‡éœ€è¦åœ¨ Vercel Dashboard é…ç½®

---

## ğŸ“„ æ–¹æ¡ˆ Bï¼šGitHub Pages éƒ¨ç½²ï¼ˆé™æ€æ¨¡å¼ï¼‰

### âš ï¸ é™åˆ¶

GitHub Pages **ä¸æ”¯æŒ SSR**ï¼Œåªèƒ½éƒ¨ç½²é™æ€ç½‘ç«™ã€‚

**åŠŸèƒ½é™åˆ¶**ï¼š
- âŒ Supabase API è·¯ç”±ä¸å·¥ä½œ
- âŒ æµè§ˆç»Ÿè®¡åŠŸèƒ½ä¸å¯ç”¨
- âŒ ç‚¹èµåŠŸèƒ½ä¸å¯ç”¨
- âŒ è¯„è®ºåŠŸèƒ½ä¸å¯ç”¨
- âœ… é™æ€å†…å®¹æ­£å¸¸æ˜¾ç¤º

### å¦‚æœä»è¦ä½¿ç”¨ GitHub Pages

#### 1. ä½¿ç”¨é™æ€é…ç½®æ„å»º

```bash
npm run build:github
```

è¿™ä¸ªå‘½ä»¤ä¼šä½¿ç”¨ `astro.config.static.ts`ï¼ˆé™æ€æ¨¡å¼ï¼‰ï¼Œç”Ÿæˆçº¯é™æ€ç½‘ç«™ã€‚

#### 2. æ¨é€åˆ° GitHub

```bash
git add .
git commit -m "build: GitHub Pages é™æ€æ„å»º"
git push origin main
```

#### 3. æ³¨æ„äº‹é¡¹

- æ‰€æœ‰ API ç«¯ç‚¹ï¼ˆ`/api/*`ï¼‰ä¼šè¿”å› 404
- ç»Ÿè®¡ç»„ä»¶ä¼šæ˜¾ç¤ºé”™è¯¯æˆ–åŠ è½½å¤±è´¥
- å»ºè®®åˆ é™¤æˆ–éšè—ç»Ÿè®¡ç›¸å…³ç»„ä»¶

---

## ğŸ¯ æ¨èéƒ¨ç½²ç­–ç•¥

### ç”Ÿäº§ç¯å¢ƒï¼šVercel â­â­â­â­â­

```
ä¸»åŸŸåï¼šyour-blog.vercel.app
åŠŸèƒ½ï¼šå®Œæ•´çš„ Supabase åŠŸèƒ½
æˆæœ¬ï¼šå…è´¹
```

### å¤‡ä»½/æµ‹è¯•ï¼šGitHub Pagesï¼ˆå¯é€‰ï¼‰

```
åŸŸåï¼šusername.github.io/openeducation
åŠŸèƒ½ï¼šä»…é™æ€å†…å®¹
æˆæœ¬ï¼šå…è´¹
ç”¨é€”ï¼šå¤‡ä»½æˆ–æµ‹è¯•
```

---

## ğŸ“Š é…ç½®æ–‡ä»¶è¯´æ˜

### `astro.config.ts`ï¼ˆé»˜è®¤é…ç½®ï¼‰
```typescript
output: 'server'  // SSR æ¨¡å¼
adapter: vercel() // Vercel é€‚é…å™¨
```
- ç”¨äºï¼šæœ¬åœ°å¼€å‘ã€Vercel éƒ¨ç½²
- æ”¯æŒï¼šå®Œæ•´åŠŸèƒ½

### `astro.config.static.ts`ï¼ˆé™æ€é…ç½®ï¼‰
```typescript
output: 'static'  // é™æ€æ¨¡å¼
// æ—  adapter
```
- ç”¨äºï¼šGitHub Pages éƒ¨ç½²
- é™åˆ¶ï¼šæ— åŠ¨æ€åŠŸèƒ½

---

## ğŸš€ å¿«é€Ÿå‘½ä»¤

```bash
# æœ¬åœ°å¼€å‘ï¼ˆä½¿ç”¨ server æ¨¡å¼ï¼‰
npm run dev

# æ„å»º Vercel ç‰ˆæœ¬ï¼ˆå®Œæ•´åŠŸèƒ½ï¼‰
npm run build:vercel

# æ„å»º GitHub Pages ç‰ˆæœ¬ï¼ˆé™æ€ï¼Œæ— åŠ¨æ€åŠŸèƒ½ï¼‰
npm run build:github

# é¢„è§ˆæ„å»ºç»“æœ
npm run preview
```

---

## âœ… éƒ¨ç½²æ£€æŸ¥æ¸…å•

### Vercel éƒ¨ç½²å‰

- [ ] å·²å®‰è£… `@astrojs/vercel`
- [ ] `astro.config.ts` é…ç½®äº† adapter
- [ ] åœ¨ Vercel é…ç½®äº†ç¯å¢ƒå˜é‡
- [ ] å·²è¿æ¥ GitHub ä»“åº“
- [ ] æ¨é€ä»£ç åˆ° main åˆ†æ”¯

### GitHub Pages éƒ¨ç½²å‰

- [ ] ç†è§£åŠŸèƒ½é™åˆ¶ï¼ˆæ— åŠ¨æ€åŠŸèƒ½ï¼‰
- [ ] è¿è¡Œ `npm run build:github`
- [ ] æ£€æŸ¥æ„å»ºè¾“å‡ºï¼ˆdist ç›®å½•ï¼‰
- [ ] æ¨é€åˆ° gh-pages åˆ†æ”¯

---

## ğŸ†˜ å¸¸è§é—®é¢˜

### Q1: Vercel æ„å»ºå¤±è´¥

**æ£€æŸ¥**ï¼š
- ç¯å¢ƒå˜é‡æ˜¯å¦æ­£ç¡®é…ç½®
- `@astrojs/vercel` æ˜¯å¦å·²å®‰è£…
- æ„å»ºæ—¥å¿—ä¸­çš„å…·ä½“é”™è¯¯

**è§£å†³**ï¼š
```bash
# æœ¬åœ°æµ‹è¯•æ„å»º
npm run build:vercel
```

### Q2: GitHub Pages æ˜¾ç¤º 404

**åŸå› **ï¼šAPI è·¯ç”±ä¸æ”¯æŒ

**è§£å†³**ï¼š
- ä½¿ç”¨é™æ€é…ç½®æ„å»º
- æˆ–åˆ‡æ¢åˆ° Vercel éƒ¨ç½²

### Q3: Supabase åŠŸèƒ½ä¸å·¥ä½œ

**åŸå› **ï¼š
- GitHub Pages ä¸æ”¯æŒ SSR
- æˆ–ç¯å¢ƒå˜é‡æœªé…ç½®

**è§£å†³**ï¼š
- ä½¿ç”¨ Vercel éƒ¨ç½²
- æ£€æŸ¥ç¯å¢ƒå˜é‡

---

## ğŸ’¡ æœ€ä½³å®è·µ

### æ¨èé…ç½®

```
å¼€å‘ï¼šæœ¬åœ° npm run devï¼ˆserver æ¨¡å¼ï¼‰
    â†“
æµ‹è¯•ï¼šæœ¬åœ° npm run build:vercel
    â†“
éƒ¨ç½²ï¼šæ¨é€åˆ° GitHub â†’ Vercel è‡ªåŠ¨æ„å»º
    â†“
ç”Ÿäº§ï¼šVercelï¼ˆå®Œæ•´åŠŸèƒ½ï¼‰
```

### ä¸æ¨è

```
å¼€å‘ï¼šserver æ¨¡å¼
    â†“
éƒ¨ç½²ï¼šGitHub Pagesï¼ˆåŠŸèƒ½ç¼ºå¤±ï¼‰âŒ
```

---

## ğŸ”— ç›¸å…³èµ„æº

- [Vercel Dashboard](https://vercel.com/dashboard)
- [Astro Vercel Adapter](https://docs.astro.build/en/guides/integrations-guide/vercel/)
- [Astro Server Mode](https://docs.astro.build/en/guides/server-side-rendering/)

---

**å»ºè®®**ï¼šä½¿ç”¨ Vercel éƒ¨ç½²ï¼Œäº«å—å®Œæ•´çš„ Supabase åŠŸèƒ½ï¼ğŸš€

